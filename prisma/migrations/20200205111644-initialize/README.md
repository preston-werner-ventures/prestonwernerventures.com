# Migration `20200205111644-initialize`

This migration has been generated by Rob Cameron at 2/5/2020, 11:16:44 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."categories" (
    "id" SERIAL,
    "name" text  NOT NULL DEFAULT '',
    "slug" text  NOT NULL DEFAULT '',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."organizations" (
    "id" SERIAL,
    "logo" text   ,
    "name" text  NOT NULL DEFAULT '',
    "photo" text   ,
    "years" text  NOT NULL DEFAULT '',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."_categoriesToorganizations" (
    "A" integer  NOT NULL ,
    "B" integer  NOT NULL 
) 

CREATE UNIQUE INDEX "categories.name" ON "public"."categories"("name")

CREATE UNIQUE INDEX "categories.slug" ON "public"."categories"("slug")

CREATE UNIQUE INDEX "organizations.name" ON "public"."organizations"("name")

CREATE UNIQUE INDEX "_categoriesToorganizations_AB_unique" ON "public"."_categoriesToorganizations"("A","B")

ALTER TABLE "public"."_categoriesToorganizations" ADD FOREIGN KEY ("A") REFERENCES "public"."categories"("id") ON DELETE CASCADE

ALTER TABLE "public"."_categoriesToorganizations" ADD FOREIGN KEY ("B") REFERENCES "public"."organizations"("id") ON DELETE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200205111644-initialize
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,45 @@
+// This is your Prisma schema file,
+// learn more about it in the docs: https://pris.ly/d/prisma-schema
+
+// The `datasource` block is used to specify the connection to your DB.
+// Set the `provider` field to match your DB type: "postgresql", "mysql" or "sqlite".
+// The `url` field must contain the connection string to your DB.
+// Learn more about connection strings for your DB: https://pris.ly/d/connection-strings
+datasource db {
+  provider = "postgresql"
+  url      = env("DB_HOST")
+}
+
+// Other examples for connection strings are:
+// SQLite: url = "sqlite:./dev.db"
+// MySQL:  url = "mysql://johndoe:johndoe@localhost:3306/mydb"
+// You can also use environment variables to specify the connection string: https://pris.ly/d/prisma-schema#using-environment-variables
+
+// By adding the `generator` block, you specify that you want to generate Prisma's DB client.
+// The client is generated by runnning the `prisma generate` command and will be located in `node_modules/@prisma` and can be imported in your code as:
+// import { PrismaClient } from '@prisma/client'
+generator client {
+  provider = "prisma-client-js"
+}
+
+// Next steps:
+// 1. Add your DB connection string as the `url` of the `datasource` block
+// 2. Run `prisma2 introspect` to get your data model into the schema (this will override this file and delete all comments!)
+// 3. Run `prisma2 generate` to generate Prisma Client JS
+// 4. Start using Prisma Client JS in your applicatio
+
+model categories {
+  id              Int             @id @default(autoincrement())
+  name            String          @unique
+  slug            String          @unique
+  organizationses organizations[]
+}
+
+model organizations {
+  id           Int          @id @default(autoincrement())
+  name         String       @unique
+  logo         String?
+  photo        String?
+  years        String
+  categorieses categories[]
+}
```


